---
all:
  vars:
    foremandist: .fm3_13
    foreman_version: 'nightly'
    katello_version: 'nightly'
    candlepin_version: '4.4'
    puppet_version: 7
    copr_project_user: "@theforeman"
    build_package_build_system: copr
  children:
    packages: {}
    repoclosures: {}
    copr_projects: {}

copr_projects:
  vars:
    core_modules_el8:
      - 'ruby:2.7'
      - 'nodejs:14'
      - 'postgresql:13'
    core_modules_el9:
      - 'nodejs:18'
    core_buildroot_packages:
      - 'foreman-build'
    plugins_buildroot_packages:
      - 'foreman-build'
      - python3.11-rpm-macros
      - python3.11
    rhel_9: '9'
    rhel_8: '8'
    rhel_7: '7'
    puppet_baseurl: "https://yum.puppet.com/puppet{{ puppet_version }}"
    root_repo_url: "https://download.copr.fedorainfracloud.org/results/{{ copr_project_user }}"
    foreman_staging: "{{ root_repo_url }}/foreman-{{ foreman_version }}-staging"
    plugins_staging: "{{ root_repo_url }}/plugins-{{ foreman_version }}-staging"
    katello_staging: "{{ root_repo_url }}/katello-{{ katello_version }}-staging"
    client_staging: "{{ root_repo_url }}/client-{{ foreman_version }}-staging"
  hosts:
    foreman-copr:
      copr_project_name: "foreman-{{ foreman_version }}-staging"
      copr_project_fork_from: "{{ 'foreman-nightly-staging' if foreman_version != 'nightly' else False }}"
      copr_project_chroots:
        - name: "rhel-{{ rhel_8 }}-x86_64"
          modules: "{{ core_modules_el8 }}"
          external_repos:
            - "{{ puppet_baseurl }}/el/{{ rhel_8 }}/x86_64/"
            - "{{ foreman_staging }}/rhel-{{ rhel_8 }}-x86_64"
          comps_file: "{{ inventory_dir }}/comps/comps-foreman-el{{ rhel_8 }}.xml"
          buildroot_packages: "{{ core_buildroot_packages }}"
        - name: "rhel-{{ rhel_9 }}-x86_64"
          modules: "{{ core_modules_el9 }}"
          external_repos:
            - "{{ puppet_baseurl }}/el/{{ rhel_9 }}/x86_64/"
            - "{{ foreman_staging }}/rhel-{{ rhel_9 }}-x86_64"
          comps_file: "{{ inventory_dir }}/comps/comps-foreman-el{{ rhel_9 }}.xml"
          buildroot_packages: "{{ core_buildroot_packages }}"
    plugins-copr:
      copr_project_name: "plugins-{{ foreman_version }}-staging"
      copr_project_fork_from: "{{ 'plugins-nightly-staging' if foreman_version != 'nightly' else False }}"
      copr_project_chroots:
        - name: "rhel-{{ rhel_8 }}-x86_64"
          modules: "{{ core_modules_el8 }}"
          external_repos:
            - "{{ foreman_staging }}/rhel-{{ rhel_8 }}-x86_64"
            - "{{ plugins_staging }}/rhel-{{ rhel_8 }}-x86_64"
          comps_file: "{{ inventory_dir }}/comps/comps-foreman-plugins-el{{ rhel_8 }}.xml"
          buildroot_packages: "{{ plugins_buildroot_packages }}"
        - name: "rhel-{{ rhel_9 }}-x86_64"
          modules: "{{ core_modules_el9 }}"
          external_repos:
            - "{{ foreman_staging }}/rhel-{{ rhel_9 }}-x86_64"
            - "{{ plugins_staging }}/rhel-{{ rhel_9 }}-x86_64"
          comps_file: "{{ inventory_dir }}/comps/comps-foreman-plugins-el{{ rhel_9 }}.xml"
          buildroot_packages: "{{ core_buildroot_packages }}"
    katello-copr:
      copr_project_name: "katello-{{ katello_version }}-staging"
      copr_project_fork_from: "{{ 'katello-nightly-staging' if foreman_version != 'nightly' else False }}"
      copr_project_chroots:
        - name: "rhel-{{ rhel_8 }}-x86_64"
          modules: "{{ core_modules_el8 }}"
          external_repos:
            - "{{ foreman_staging }}/rhel-{{ rhel_8 }}-x86_64"
            - "{{ plugins_staging }}/rhel-{{ rhel_8 }}-x86_64"
            - "{{ katello_staging }}/rhel-{{ rhel_8 }}-x86_64"
          comps_file: "{{ inventory_dir }}/comps/comps-katello-el{{ rhel_8 }}.xml"
          buildroot_packages: "{{ core_buildroot_packages }}"
        - name: "rhel-{{ rhel_9 }}-x86_64"
          modules: "{{ core_modules_el9 }}"
          external_repos:
            - "{{ foreman_staging }}/rhel-{{ rhel_9 }}-x86_64"
            - "{{ plugins_staging }}/rhel-{{ rhel_9 }}-x86_64"
            - "{{ katello_staging }}/rhel-{{ rhel_9 }}-x86_64"
          comps_file: "{{ inventory_dir }}/comps/comps-katello-el{{ rhel_9 }}.xml"
          buildroot_packages: "{{ core_buildroot_packages }}"
    client-copr:
      copr_project_name: "client-{{ foreman_version }}-staging"
      copr_project_fork_from: "{{ 'client-nightly-staging' if foreman_version != 'nightly' else False }}"
      copr_project_chroots:
        - name: "rhel-{{ rhel_9 }}-x86_64"
          comps_file: "{{ inventory_dir }}/comps/comps-foreman-client-el{{ rhel_9 }}.xml"
          external_repos:
            - "{{ client_staging }}/rhel-{{ rhel_9 }}-x86_64"
        - name: "rhel-{{ rhel_8 }}-x86_64"
          comps_file: "{{ inventory_dir }}/comps/comps-foreman-client-el{{ rhel_8 }}.xml"
          external_repos:
            - "{{ client_staging }}/rhel-{{ rhel_8 }}-x86_64"
        - name: "rhel-{{ rhel_7 }}-x86_64"
          external_repos:
            - "https://archives.fedoraproject.org/pub/archive/epel/{{ rhel_7 }}/x86_64/"
            - "{{ client_staging }}/rhel-{{ rhel_7 }}-x86_64"
          comps_file: "{{ inventory_dir }}/comps/comps-foreman-client-rhel{{ rhel_7 }}.xml"
        - name: "opensuse-leap-15.5-x86_64"
          external_repos:
            - "{{ client_staging }}/opensuse-leap-15.5-x86_64"
          comps_file: "{{ inventory_dir }}/comps/comps-foreman-client-sles155.xml"

packages:
  vars:
    rpmlint_rc_file: "{{ inventory_dir }}/.rpmlintrc"
  children:
    foreman_packages: {}
    plugin_packages: {}
    foreman_client_packages: {}
    katello_packages: {}
    foreman_release_packages: {}

foreman_packages:
  vars:
    package_base_dir: 'packages/foreman/'
    copr_projects:
      - "{{ hostvars['foreman-copr'] }}"
    repoclosure_target_repos:
      el8:
        - "el8-foreman-{{ foreman_version }}-staging"
      el9:
        - "el9-foreman-{{ foreman_version }}-staging"
    repoclosure_lookaside_repos:
      el8: "{{ hostvars['foreman-staging-repoclosure-el8']['repoclosure_lookaside_repos']['el8'] }}"
      el9: "{{ hostvars['foreman-staging-repoclosure-el9']['repoclosure_lookaside_repos']['el9'] }}"
  children:
    foreman_core_packages: {}
    foreman_proxy_packages: {}
    foreman_nodejs_packages: {}
    foreman_installer_packages: {}

plugin_packages:
  vars:
    copr_projects:
      - "{{ hostvars['plugins-copr'] }}"
    package_base_dir: 'packages/plugins/'
    repoclosure_target_repos:
      el8:
        - "el8-foreman-plugins-{{ foreman_version }}-staging"
      el9:
        - "el9-foreman-plugins-{{ foreman_version }}-staging"
    repoclosure_lookaside_repos:
      el8: "{{ hostvars['plugins-staging-repoclosure-el8']['repoclosure_lookaside_repos']['el8'] }}"
      el9: "{{ hostvars['plugins-staging-repoclosure-el9']['repoclosure_lookaside_repos']['el9'] }}"
  children:
    foreman_plugin_packages: {}
    foreman_proxy_plugin_packages: {}

rails_core_packages:
  hosts:
    rubygem-actioncable: {}
    rubygem-actionmailbox: {}
    rubygem-actionmailer: {}
    rubygem-actiontext: {}
    rubygem-activejob: {}
    rubygem-activemodel: {}
    rubygem-activerecord: {}
    rubygem-activestorage: {}
    rubygem-actionpack: {}
    rubygem-actionview: {}
    rubygem-activesupport: {}
    rubygem-rails: {}
    rubygem-railties: {}

foreman_core_packages:
  children:
    rails_core_packages: {}
    ruby_core_packages: {}
    hammer_core_packages: {}
    other_core_packages: {}
  hosts:
    foreman:
      source_location: https://ci.theforeman.org/job/foreman-develop-source-release
      source_system: jenkins

other_core_packages:
  hosts:
    dynflow-utils: {}
    foreman-bootloaders-redhat: {}
    foreman-obsolete-packages: {}
    keycloak-httpd-client-install: {}
    pcp-mmvstatsd: {}
    python-websockify: {}

hammer_core_packages:
  hosts:
    rubygem-hammer_cli:
      source_location: https://ci.theforeman.org/job/hammer-cli-master-source-release
      source_system: jenkins
    rubygem-hammer_cli_foreman:
      source_location: https://ci.theforeman.org/job/hammer-cli-foreman-master-source-release
      source_system: jenkins

ruby_core_packages:
  children:
    ruby_core_packages_tier1: {}
    ruby_core_packages_tier2: {}

ruby_core_packages_tier1:
  hosts:
    libsass: {}
    rubygem-activerecord-nulldb-adapter: {}
    rubygem-activerecord-session_store: {}
    rubygem-addressable: {}
    rubygem-algebrick: {}
    rubygem-amazing_print: {}
    rubygem-ancestry: {}
    rubygem-apipie-bindings: {}
    rubygem-apipie-dsl: {}
    rubygem-apipie-params: {}
    rubygem-apipie-rails: {}
    rubygem-audited: {}
    rubygem-autoprefixer-rails: {}
    rubygem-bcrypt: {}
    rubygem-bootstrap-sass: {}
    rubygem-builder: {}
    rubygem-bundler_ext: {}
    rubygem-clamp: {}
    rubygem-coffee-script: {}
    rubygem-coffee-script-source: {}
    rubygem-coffee-rails: {}
    rubygem-colorize: {}
    rubygem-concurrent-ruby: {}
    rubygem-concurrent-ruby-edge: {}
    rubygem-connection_pool: {}
    rubygem-crass: {}
    rubygem-css_parser: {}
    rubygem-daemons: {}
    rubygem-deacon: {}
    rubygem-declarative: {}
    rubygem-declarative-option: {}
    rubygem-deep_cloneable: {}
    rubygem-domain_name: {}
    rubygem-dynflow: {}
    rubygem-erubi: {}
    rubygem-eventmachine: {}
    rubygem-execjs: {}
    rubygem-excon: {}
    rubygem-facter: {}
    rubygem-faraday: {}
    rubygem-faraday-em_http: {}
    rubygem-faraday-em_synchrony: {}
    rubygem-faraday-excon: {}
    rubygem-faraday-httpclient: {}
    rubygem-faraday-multipart: {}
    rubygem-faraday-net_http: {}
    rubygem-faraday-net_http_persistent: {}
    rubygem-faraday-patron: {}
    rubygem-faraday-rack: {}
    rubygem-faraday-retry: {}
    rubygem-fast_gettext: {}
    rubygem-ffi: {}
    rubygem-fog-aws: {}
    rubygem-fog-core: {}
    rubygem-fog-json: {}
    rubygem-fog-libvirt: {}
    rubygem-fog-openstack: {}
    rubygem-fog-ovirt: {}
    rubygem-fog-vsphere: {}
    rubygem-fog-xml: {}
    rubygem-font-awesome-sass: {}
    rubygem-foreman_maintain: {}
    rubygem-formatador: {}
    rubygem-friendly_id: {}
    rubygem-get_process_mem: {}
    rubygem-gettext: {}
    rubygem-gettext_i18n_rails: {}
    rubygem-gettext_i18n_rails_js: {}
    rubygem-gitlab-sidekiq-fetcher: {}
    rubygem-globalid: {}
    rubygem-google-apis-compute_v1: {}
    rubygem-google-apis-core: {}
    rubygem-google-apis-dns_v1: {}
    rubygem-google-apis-iamcredentials_v1: {}
    rubygem-google-apis-monitoring_v3: {}
    rubygem-google-apis-pubsub_v1: {}
    rubygem-google-apis-sqladmin_v1beta4: {}
    rubygem-google-apis-storage_v1: {}
    rubygem-google-cloud-env: {}
    rubygem-googleauth: {}
    rubygem-graphql: {}
    rubygem-graphql-batch: {}
    rubygem-hashie: {}
    rubygem-highline: {}
    rubygem-hocon: {}
    rubygem-http-accept: {}
    rubygem-httpclient: {}
    rubygem-http-cookie: {}
    rubygem-ipaddress: {}
    rubygem-i18n: {}
    rubygem-journald-logger: {}
    rubygem-journald-native: {}
    rubygem-jquery-ui-rails: {}
    rubygem-jwt: {}
    rubygem-ldap_fluff: {}
    rubygem-little-plugger: {}
    rubygem-locale: {}
    rubygem-logging: {}
    rubygem-logging-journald: {}
    rubygem-loofah: {}
    rubygem-mail: {}
    rubygem-marcel: {}
    rubygem-memoist: {}
    rubygem-method_source: {}
    rubygem-mime-types: {}
    rubygem-mime-types-data: {}
    rubygem-mini_mime: {}
    rubygem-msgpack: {}
    rubygem-multipart-post: {}
    rubygem-multi_json: {}
    rubygem-mustermann: {}
    rubygem-net-ldap: {}
    rubygem-net-ping: {}
    rubygem-net-scp: {}
    rubygem-net-ssh: {}
    rubygem-net_http_unix: {}
    rubygem-netrc: {}
    rubygem-nio4r: {}
    rubygem-nokogiri: {}
    rubygem-oauth: {}
    rubygem-oauth-tty: {}
    rubygem-optimist: {}
    rubygem-os: {}
    rubygem-ovirt-engine-sdk: {}
    rubygem-paint: {}
    rubygem-parallel: {}
    rubygem-patternfly-sass: {}
    rubygem-pg: {}
    rubygem-powerbar: {}
    rubygem-po_to_json: {}
    rubygem-prometheus-client: {}
    rubygem-promise.rb: {}
    rubygem-public_suffix: {}
    rubygem-puma-status: {}
    rubygem-rabl: {}
    rubygem-rack: {}
    rubygem-rack-cors: {}
    rubygem-rack-jsonp: {}
    rubygem-rack-protection: {}
    rubygem-rack-test: {}
    rubygem-rails-dom-testing: {}
    rubygem-rails-html-sanitizer: {}
    rubygem-rails-i18n: {}
    rubygem-rake-compiler: {}
    rubygem-rbvmomi2: {}
    rubygem-redis: {}
    rubygem-representable: {}
    rubygem-responders: {}
    rubygem-rest-client: {}
    rubygem-retriable: {}
    rubygem-roadie-rails: {}
    rubygem-roadie: {}
    rubygem-ruby-libvirt: {}
    rubygem-ruby2_keywords: {}
    rubygem-ruby2ruby: {}
    rubygem-ruby_parser: {}
    rubygem-safemode: {}
    rubygem-sass-rails: {}
    rubygem-sassc-rails: {}
    rubygem-scoped_search: {}
    rubygem-sd_notify: {}
    rubygem-secure_headers: {}
    rubygem-sequel: {}
    rubygem-sexp_processor: {}
    rubygem-sidekiq: {}
    rubygem-signet: {}
    rubygem-sinatra: {}
    rubygem-snaky_hash: {}
    rubygem-sprockets: {}
    rubygem-sprockets-rails: {}
    rubygem-sshkey: {}
    rubygem-statsd-instrument: {}
    rubygem-sqlite3: {}
    rubygem-terser: {}
    rubygem-text: {}
    rubygem-tilt: {}
    rubygem-thor: {}
    rubygem-trailblazer-option: {}
    rubygem-tzinfo: {}
    rubygem-uber: {}
    rubygem-uglifier: {}
    rubygem-unicode-display_width: {}
    rubygem-validates_lengths_from_database: {}
    rubygem-version_gem: {}
    rubygem-websocket-extensions: {}
    rubygem-will_paginate: {}
    rubygem-wirb: {}
    rubygem-xmlrpc: {}
    rubygem-zeitwerk: {}

ruby_core_packages_tier2:
  hosts:
    rubygem-puma: {}
    rubygem-rkerberos: {}
    rubygem-sassc: {}
    rubygem-websocket-driver: {}

foreman_nodejs_packages:
  hosts:
    nodejs-argv-parse: {}
    nodejs-babel-core:
      strategy: bundle
    nodejs-babel-loader:
      strategy: bundle
    nodejs-babel-plugin-transform-class-properties:
      strategy: bundle
    nodejs-babel-preset-env:
      strategy: bundle
    nodejs-babel-preset-react:
      strategy: bundle
    nodejs-buffer: {}
    nodejs-c3: {}
    nodejs-compression-webpack-plugin: {}
    nodejs-core-js: {}
    nodejs-css-loader:
      strategy: bundle
    nodejs-d3: {}
    nodejs-dotenv: {}
    nodejs-graphql: {}
    nodejs-graphql-tag: {}
    nodejs-harmony-reflect: {}
    nodejs-identity-obj-proxy: {}
    nodejs-intl: {}
    nodejs-jed: {}
    nodejs-jquery: {}
    nodejs-js-cookie: {}
    nodejs-js-tokens: {}
    nodejs-lodash: {}
    nodejs-module-federation-utilities: {}
    nodejs-os-browserify: {}
    nodejs-path-browserify: {}
    nodejs-performance-now: {}
    nodejs-react-bootstrap:
      strategy: bundle
    nodejs-react-ellipsis-with-tooltip: {}
    nodejs-react-intl:
      strategy: bundle
    nodejs-regenerator-runtime: {}
    nodejs-sass:
      strategy: bundle
    nodejs-sass-loader:
      strategy: bundle
    nodejs-sortabular: {}
    nodejs-style-loader:
      strategy: bundle
    nodejs-table-resolver: {}
    nodejs-theforeman-builder:
      name: "@theforeman/builder"
      strategy: bundle
    nodejs-theforeman-vendor:
      name: "@theforeman/vendor"
    nodejs-tslib: {}
    nodejs-use-deep-compare-effect: {}
    nodejs-uuid: {}
    nodejs-webpack-cli: {}
    nodejs-webpack-stats-plugin: {}
    nodejs-webpack:
      strategy: bundle

foreman_installer_packages:
  hosts:
    foreman-fapolicyd: {}
    foreman-installer:
      source_location: https://ci.theforeman.org/job/foreman-installer-develop-source-release
      source_system: jenkins
    foreman-selinux:
      source_location: https://ci.theforeman.org/job/foreman-selinux-develop-source-release
      source_system: jenkins
    katello-certs-tools: {}
    puppet-agent-oauth: {}
    puppet-agent-puppet-strings: {}
    puppet-agent-rgen: {}
    puppet-agent-yard: {}
    rubygem-ansi: {}
    rubygem-kafo: {}
    rubygem-kafo_parsers: {}
    rubygem-kafo_wizards: {}

foreman_proxy_packages:
  hosts:
    foreman-proxy:
      source_location: https://ci.theforeman.org/job/smart-proxy-develop-source-release
      source_system: jenkins
    rubygem-concurrent-ruby: {}
    rubygem-gssapi: {}
    rubygem-rake-compiler: {}
    rubygem-rubyipmi: {}
    rubygem-rb-inotify: {}
    rubygem-redfish_client: {}
    rubygem-rsec: {}
    rubygem-server_sent_events: {}
    rubygem-webrick: {}

yggdrasil_client_packages:
  hosts:
    yggdrasil: {}

foreman_client_packages:
  vars:
    copr_projects:
      - "{{ hostvars['client-copr'] }}"
    package_base_dir: 'packages/client/'
    repoclosure_target_repos:
      el9:
        - "el9-foreman-client-{{ foreman_version }}-staging"
      el8:
        - "el8-foreman-client-{{ foreman_version }}-staging"
      el7:
        - "el7-foreman-client-{{ foreman_version }}-staging"
    repoclosure_lookaside_repos:
      el9: "{{ hostvars['foreman-client-staging-repoclosure-el9']['repoclosure_lookaside_repos']['el9'] }}"
      el8: "{{ hostvars['foreman-client-staging-repoclosure-el8']['repoclosure_lookaside_repos']['el8'] }}"
      el7: "{{ hostvars['foreman-client-staging-repoclosure-el7']['repoclosure_lookaside_repos']['el7'] }}"
      leap155:
        - leap155-oss
        - atix-sles155
  children:
    yggdrasil_client_packages: {}
  hosts:
    foreman_ygg_worker: {}
    katello-host-tools: {}
    katello-pull-transport-migrate: {}
    python-psutil: {}
    rubygem-foreman_scap_client: {}
    tracer: {}

katello_packages:
  vars:
    copr_projects:
      - "{{ hostvars['katello-copr'] }}"
    package_base_dir: 'packages/katello/'
    repoclosure_target_repos:
      el8:
        - "el8-katello-{{ katello_version }}-staging"
      el9:
        - "el9-katello-{{ katello_version }}-staging"
    repoclosure_lookaside_repos:
      el8: "{{ hostvars['katello-staging-repoclosure-el8']['repoclosure_lookaside_repos']['el8'] }}"
      el9: "{{ hostvars['katello-staging-repoclosure-el9']['repoclosure_lookaside_repos']['el9'] }}"
  children:
    satellite_packages: {}
    katello_common_packages: {}
    katello_nodejs_packages: {}
    katello_ruby_packages: {}
    katello_hammer_packages: {}
  hosts:
    rubygem-foreman_kernel_care: {}
    rubygem-foreman_rh_cloud: {}
    rubygem-foreman_scc_manager: {}
    rubygem-foreman_virt_who_configure: {}
    rubygem-katello:
      source_location: https://ci.theforeman.org/job/katello-master-source-release
      source_system: jenkins

katello_hammer_packages:
  hosts:
    rubygem-hammer_cli_foreman_rh_cloud: {}
    rubygem-hammer_cli_foreman_scc_manager: {}
    rubygem-hammer_cli_foreman_virt_who_configure: {}
    rubygem-hammer_cli_katello:
      source_location: https://ci.theforeman.org/job/hammer-cli-katello-master-source-release
      source_system: jenkins

katello_ruby_packages:
  hosts:
    rubygem-activerecord-import: {}
    rubygem-ethon: {}
    rubygem-fx: {}
    rubygem-pulp_ansible_client: {}
    rubygem-pulp_certguard_client: {}
    rubygem-pulp_container_client: {}
    rubygem-pulp_deb_client: {}
    rubygem-pulp_file_client: {}
    rubygem-pulp_ostree_client: {}
    rubygem-pulp_python_client: {}
    rubygem-pulp_rpm_client: {}
    rubygem-pulpcore_client: {}
    rubygem-robotex: {}
    rubygem-spidr: {}
    rubygem-stomp: {}
    rubygem-typhoeus: {}
    rubygem-zest: {}

katello_common_packages:
  hosts:
    katello: {}
    katello-client-bootstrap: {}
    katello-repos: {}
    katello-selinux: {}
    rhel8-kickstart-setup: {}

katello_nodejs_packages:
  hosts:
    nodejs-angular: {}
    nodejs-bootstrap-select: {}
    nodejs-ngreact: {}

foreman_plugin_packages:
  children:
    ruby_plugin_packages: {}
    ruby_plugin_packages_tier2: {}
    hammer_plugin_packages: {}
    fdi_plugin_packages: {}
    other_plugin_packages: {}
    nodejs_plugin_packages: {}
    foreman_plugin_packages_tier1: {}
    foreman_plugin_packages_tier2: {}

nodejs_plugin_packages:
  hosts:
    nodejs-react-json-tree:
      strategy: bundle

foreman_plugin_packages_tier1:
  hosts:
    rubygem-foreman-tasks: {}
    rubygem-foreman_remote_execution: {}

foreman_plugin_packages_tier2:
  hosts:
    rubygem-base64: {}
    rubygem-foreman_acd: {}
    rubygem-foreman_ansible: {}
    rubygem-foreman_azure_rm: {}
    rubygem-foreman_bootdisk: {}
    rubygem-foreman_concrete: {}
    rubygem-foreman_cve_scanner: {}
    rubygem-foreman_datacenter: {}
    rubygem-foreman_default_hostgroup: {}
    rubygem-foreman_dhcp_browser: {}
    rubygem-foreman_discovery: {}
    rubygem-foreman_dlm: {}
    rubygem-foreman_expire_hosts: {}
    rubygem-foreman_fog_proxmox: {}
    rubygem-foreman_git_templates: {}
    rubygem-foreman_google: {}
    rubygem-foreman_graphite: {}
    rubygem-foreman_hdm: {}
    rubygem-foreman_host_extra_validator: {}
    rubygem-foreman_kubevirt: {}
    rubygem-foreman_leapp: {}
    rubygem-foreman_monitoring: {}
    rubygem-foreman_netbox: {}
    rubygem-foreman_omaha: {}
    rubygem-foreman_openscap: {}
    rubygem-foreman_probing: {}
    rubygem-foreman_puppet: {}
    rubygem-foreman_rescue: {}
    rubygem-foreman_resource_quota: {}
    rubygem-foreman_salt: {}
    rubygem-foreman_snapshot_management: {}
    rubygem-foreman_statistics: {}
    rubygem-foreman_supervisory_authority: {}
    rubygem-foreman_templates: {}
    rubygem-foreman_vault: {}
    rubygem-foreman_webhooks: {}
    rubygem-foreman_vmwareannotations: {}
    rubygem-foreman_wreckingball: {}
    rubygem-puppetdb_foreman: {}

fdi_plugin_packages:
  vars:
    copr_projects:
      - "{{ hostvars['plugins-copr'] }}"
  hosts:
    foreman-discovery-image-service: {}
    rubygem-newt: {}

other_plugin_packages:
  hosts:
    yggdrasil-worker-forwarder: {}

hammer_plugin_packages:
  hosts:
    rubygem-hammer_cli_foreman_admin: {}
    rubygem-hammer_cli_foreman_ansible: {}
    rubygem-hammer_cli_foreman_azure_rm: {}
    rubygem-hammer_cli_foreman_bootdisk: {}
    rubygem-hammer_cli_foreman_discovery: {}
    rubygem-hammer_cli_foreman_google: {}
    rubygem-hammer_cli_foreman_kubevirt: {}
    rubygem-hammer_cli_foreman_leapp: {}
    rubygem-hammer_cli_foreman_openscap: {}
    rubygem-hammer_cli_foreman_puppet: {}
    rubygem-hammer_cli_foreman_remote_execution: {}
    rubygem-hammer_cli_foreman_salt: {}
    rubygem-hammer_cli_foreman_ssh: {}
    rubygem-hammer_cli_foreman_tasks: {}
    rubygem-hammer_cli_foreman_templates: {}
    rubygem-hammer_cli_foreman_webhooks: {}
    rubygem-net-ssh-gateway: {}
    rubygem-net-ssh-multi: {}

ruby_plugin_packages:
  hosts:
    rubygem-acts_as_list: {}
    rubygem-angular-rails-templates: {}
    rubygem-aws-eventstream: {}
    rubygem-aws-sigv4: {}
    rubygem-azure_mgmt_compute: {}
    rubygem-azure_mgmt_network: {}
    rubygem-azure_mgmt_resources: {}
    rubygem-azure_mgmt_storage: {}
    rubygem-azure_mgmt_subscriptions: {}
    rubygem-bcrypt_pbkdf: {}
    rubygem-chunky_png: {}
    rubygem-dry-configurable: {}
    rubygem-dry-container: {}
    rubygem-dry-core: {}
    rubygem-dry-equalizer: {}
    rubygem-dry-inflector: {}
    rubygem-dry-initializer: {}
    rubygem-dry-logic: {}
    rubygem-dry-types: {}
    rubygem-dry-schema: {}
    rubygem-dry-validation: {}
    rubygem-ed25519: {}
    rubygem-elastic-apm: {}
    rubygem-et-orbi: {}
    rubygem-deface: {}
    rubygem-diffy: {}
    rubygem-down: {}
    rubygem-faraday-cookie_jar: {}
    rubygem-faraday-detailed_logger: {}
    rubygem-ffi-compiler: {}
    rubygem-fog-kubevirt: {}
    rubygem-fog-proxmox: {}
    rubygem-fugit: {}
    rubygem-gapic-common: {}
    rubygem-git: {}
    rubygem-google-cloud-common: {}
    rubygem-google-cloud-compute: {}
    rubygem-google-cloud-compute-v1: {}
    rubygem-google-cloud-core: {}
    rubygem-google-cloud-errors: {}
    rubygem-google-protobuf: {}
    rubygem-googleapis-common-protos: {}
    rubygem-googleapis-common-protos-types: {}
    rubygem-graphite-api: {}
    rubygem-http: {}
    rubygem-http-form_data: {}
    rubygem-http_parser.rb: {}
    rubygem-interactor: {}
    rubygem-jgrep: {}
    rubygem-jquery-matchheight-rails: {}
    rubygem-jsonpath: {}
    rubygem-kubeclient: {}
    rubygem-ms_rest: {}
    rubygem-ms_rest_azure: {}
    rubygem-netbox-client-ruby: {}
    rubygem-parse-cron: {}
    rubygem-pdf-core: {}
    rubygem-polyglot: {}
    rubygem-prawn: {}
    rubygem-raabro: {}
    rubygem-rainbow: {}
    rubygem-rbnacl: {}
    rubygem-rchardet: {}
    rubygem-recursive-open-struct: {}
    rubygem-rqrcode: {}
    rubygem-sentry-raven: {}
    rubygem-timeliness: {}
    rubygem-ttfunk: {}
    rubygem-vault: {}
    rubygem-zscheduler: {}

ruby_plugin_packages_tier2:
  hosts:
    rubygem-grpc: {}

foreman_proxy_plugin_packages:
  children:
    foreman_proxy_other_plugin_packages: {}
    foreman_proxy_other_plugin_packages_tier2: {}
  hosts:
    rubygem-faraday_middleware: {}
    rubygem-httparty: {}
    rubygem-infoblox: {}
    rubygem-logify: {}
    rubygem-mqtt: {}
    rubygem-multi_xml: {}
    rubygem-openscap: {}
    rubygem-openscap_parser: {}
    rubygem-radcli: {}
    rubygem-route53: {}
    rubygem-rprogram: {}
    rubygem-ruby-hmac: {}
    rubygem-ruby-nmap: {}
    rubygem-smart_proxy_acd: {}
    rubygem-smart_proxy_ansible: {}
    rubygem-smart_proxy_container_gateway: {}
    rubygem-smart_proxy_dhcp_bluecat: {}
    rubygem-smart_proxy_dhcp_device42: {}
    rubygem-smart_proxy_dhcp_dnsmasq: {}
    rubygem-smart_proxy_dhcp_infoblox: {}
    rubygem-smart_proxy_dhcp_remote_isc: {}
    rubygem-smart_proxy_discovery: {}
    rubygem-smart_proxy_discovery_image: {}
    rubygem-smart_proxy_dns_dnsmasq: {}
    rubygem-smart_proxy_dns_infoblox: {}
    rubygem-smart_proxy_dns_powerdns: {}
    rubygem-smart_proxy_dns_route53: {}
    rubygem-smart_proxy_dynflow: {}
    rubygem-smart_proxy_hdm: {}
    rubygem-smart_proxy_monitoring: {}
    rubygem-smart_proxy_omaha: {}
    rubygem-smart_proxy_openscap: {}
    rubygem-smart-proxy-probing: {}
    rubygem-smart_proxy_pulp: {}
    rubygem-smart_proxy_realm_ad_plugin: {}
    rubygem-smart_proxy_remote_execution_ssh: {}
    rubygem-smart_proxy_salt: {}
    rubygem-smart_proxy_shellhooks: {}

foreman_proxy_other_plugin_packages:
  hosts:
    ansible-collection-theforeman-foreman: {}
    ansible-collection-theforeman-operations: {}
    ansiblerole-foreman_scap_client: {}
    ansiblerole-insights-client: {}
    cjson: {}
    python-daemon: {}
    python-docutils: {}
    python-packaging: {}
    python-pbr: {}
    python-pexpect: {}
    python-ptyprocess: {}
    python-pyparsing: {}
    puppet-foreman_scap_client: {}
    puppetlabs-stdlib: {}

foreman_proxy_other_plugin_packages_tier2:
  hosts:
    mosquitto: {}
    ansible-runner: {}
    python-lockfile: {}

repoclosures:
  hosts:
    foreman-staging-repoclosure-el8:
      repoclosure_target_repos:
        el8:
          - "el8-foreman-{{ foreman_version }}-staging"
      repoclosure_target_dist: el8
      repoclosure_lookaside_repos:
        el8:
          - el8-baseos
          - el8-appstream
          - el8-powertools
          - el8-extras
          - el8-puppet-7
          - "el8-candlepin-{{ candlepin_version }}-staging"
    foreman-staging-repoclosure-el9:
      repoclosure_target_repos:
        el9:
          - "el9-foreman-{{ foreman_version }}-staging"
      repoclosure_target_dist: el9
      repoclosure_lookaside_repos:
        el9:
          - el9-baseos
          - el9-appstream
          - el9-puppet-7
          - "el9-candlepin-{{ candlepin_version }}-staging"
    plugins-staging-repoclosure-el8:
      repoclosure_target_repos:
        el8:
          - "el8-foreman-plugins-{{ foreman_version }}-staging"
      repoclosure_target_dist: el8
      repoclosure_lookaside_repos:
        el8:
          - el8-baseos
          - el8-appstream
          - el8-powertools
          - el8-configmanagement-salt
          - el8-extras
          - el8-puppet-7
          - "el8-foreman-{{ foreman_version }}-staging"
    plugins-staging-repoclosure-el9:
      repoclosure_target_repos:
        el9:
          - "el9-foreman-plugins-{{ foreman_version }}-staging"
      repoclosure_target_dist: el9
      repoclosure_lookaside_repos:
        el9:
          - el9-baseos
          - el9-appstream
          - el9-configmanagement-salt
          - el9-puppet-7
          - "el9-foreman-{{ foreman_version }}-staging"
    katello-staging-repoclosure-el8:
      repoclosure_target_repos:
        el8:
          - "el8-katello-{{ katello_version }}-staging"
      repoclosure_target_dist: el8
      repoclosure_lookaside_repos:
        el8:
          - el8-baseos
          - el8-appstream
          - el8-powertools
          - el8-extras
          - el8-puppet-7
          - "el8-foreman-{{ foreman_version }}-staging"
          - "el8-foreman-plugins-{{ foreman_version }}-staging"
          - "el8-candlepin-{{ candlepin_version }}-staging"
    katello-staging-repoclosure-el9:
      repoclosure_target_repos:
        el9:
          - "el9-katello-{{ katello_version }}-staging"
      repoclosure_target_dist: el9
      repoclosure_lookaside_repos:
        el9:
          - el9-baseos
          - el9-appstream
          - el9-puppet-7
          - "el9-foreman-{{ foreman_version }}-staging"
          - "el9-foreman-plugins-{{ foreman_version }}-staging"
          - "el9-candlepin-{{ candlepin_version }}-staging"
    foreman-client-staging-repoclosure-el9:
      repoclosure_target_repos:
        el9:
          - "el9-foreman-client-{{ foreman_version }}-staging"
      repoclosure_target_dist: el9
      repoclosure_lookaside_repos:
        el9:
          - el9-baseos
          - el9-appstream
          - el9-puppet-7
    foreman-client-staging-repoclosure-el8:
      repoclosure_target_repos:
        el8:
          - "el8-foreman-client-{{ foreman_version }}-staging"
      repoclosure_target_dist: el8
      repoclosure_lookaside_repos:
        el8:
          - el8-baseos
          - el8-appstream
          - el8-powertools
          - el8-epel
          - el8-extras
          - el8-puppet-7
    foreman-client-staging-repoclosure-el7:
      repoclosure_target_repos:
        el7:
          - "el7-foreman-client-{{ foreman_version }}-staging"
      repoclosure_target_dist: el7
      repoclosure_lookaside_repos:
        el7:
          - el7-base
          - el7-updates
          - el7-epel
          - el7-extras
          - el7-puppet-7

foreman_release_packages:
  vars:
    copr_projects:
      - "{{ hostvars['foreman-copr'] }}"
      - "{{ hostvars['client-copr'] }}"
    package_base_dir: 'packages/foreman/'
    repoclosure_target_repos:
      el9:
        - "el9-foreman-client-{{ foreman_version }}-staging"
      el8:
        - "el8-foreman-client-{{ foreman_version }}-staging"
      el7:
        - "el7-foreman-client-{{ foreman_version }}-staging"
    repoclosure_lookaside_repos:
      el9: "{{ hostvars['foreman-client-staging-repoclosure-el9']['repoclosure_lookaside_repos']['el9'] }}"
      el8: "{{ hostvars['foreman-client-staging-repoclosure-el8']['repoclosure_lookaside_repos']['el8'] }}"
      el7: "{{ hostvars['foreman-client-staging-repoclosure-el7']['repoclosure_lookaside_repos']['el7'] }}"
  hosts:
    foreman-release: {}

satellite_packages:
  vars:
    package_base_dir: 'packages/satellite/'
  hosts:
    rubygem-foreman_theme_satellite: {}
